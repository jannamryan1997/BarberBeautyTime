<div class="providers">
    <button nz-button style="width: 200px" (click)="onClickOpenCreateProviderModal()">Create Providers</button>
    <header>
        <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
            <input type="text" nz-input placeholder="input search text" [formControl]="searchCtrl" />
        </nz-input-group>
        <ng-template #suffixIconButton>
            <button nz-button nzSearch style="margin: 0;padding: 0; width: 40px;"><i nz-icon nzType="search"></i></button>
        </ng-template>
    </header>
    <p>{{message}}</p>
    <nz-table #nzTable [nzData]="providersData" nzTableLayout="fixed">
        <thead>
            <tr>
                <th nzWidth="60px"></th>
                <th>Index</th>
                <th>Name</th>
                <th>Type</th>
                <th>Rating</th>
                <th>Edit</th>
                <th>Delete</th>
                <th>Create an employe</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let data of nzTable.data;let ind=index">
                <tr>
                    <td [nzExpand]="expandSet.has(data.id)" (nzExpandChange)="onExpandChange(data.id, $event)"></td>
                    <td>{{ind+1}}</td>
                    <td>{{ data?.name }}</td>
                    <td>{{ data?.type }}</td>
                    <td>{{ data?.rating }}</td>
                    <td> <i (click)="onClickOpenProviderModalById(data?.id)" nz-icon nzType="edit" nzTheme="outline"></i></td>
                    <td><i (click)="onClickDeleteProvider(data?.id)" nz-icon nzType="delete" nzTheme="outline"></i></td>
                    <td><i (click)="onClickOpenAddEmployeModal(data?.id)" nz-icon nzType="user-add" nzTheme="outline"></i></td>
                </tr>
                <tr [nzExpand]="expandSet.has(data.id)">
                    <nz-table #nzTable [nzData]="employeesDetails" [nzFrontPagination]="false" [nzShowPagination]="false" nzTableLayout="fixed" class="tree-table">
                        <thead>
                            <tr>
                                <th>Index</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Edit</th>
                                <th>Booking</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of employeesDetails;let ind=index">
                                <td>{{ind+1}}</td>
                                <td>{{ item?.user?.first_name }}</td>
                                <td>{{ item?.user?.last_name }}</td>
                                <td (click)="onClickOpenCreateEmployeModal(item?.service_provider,item?.id)"> <i nz-icon nzType="edit" nzTheme="outline"></i></td>
                                <td><i (click)="onClickBooking(item?.service_provider,item?.id)" nz-icon nzType="field-time" nzTheme="outline"></i></td>
                            </tr>
                        </tbody>
                    </nz-table>
                </tr>
            </ng-container>
        </tbody>
    </nz-table>
    <nz-pagination [nzPageIndex]="1" [nzTotal]="50"></nz-pagination>
</div>